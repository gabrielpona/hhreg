# hhreg - registering working hours

- @hhreg
    - [x] !alert
        - regras:
            - [x] antes de cada chamada (exceto 'init'), verificar se banco existe e está inicializado.
            - [x] antes de comandos 'report', verificar se existem dias com quantidade ímpar de entradas.
            - [x] todos os dias deveriam ter quantidade par de entradas
    - [x] @init
        - [x] (-b|--initial-balance): saldo inicial em horas ou minutos
        - [x] (-w|--workday): jornada em horas ou minutos
        - [x] (-s|--start-calculations-at): data de início dos cálculos de saldo
        - regras:
            - [x] deve inicializar banco de dados de horas
            - [x] deve persistir os valores passados
            - [x] não deve permitir inicializar mais de uma vez.
    - [x] @config
        - [x] @show: 
        - [x] @change:
            - [x] (-b|--initial-balance): saldo inicial em horas ou minutos
            - [x] (-w|--workday): jornada em horas ou minutos
            - [x] (-s|--start-calculations-at): data de início dos cálculos de saldo
        - [x] @database: mostra local do banco de dados
    - @entry
        - [x] @new
            - [x] (-t|--today): define a data da entrada como hoje
            - [x] (-d|--day): define a data da entrada
            - [x] (-j|--justification): registra uma justificativa
            - [x] (-y|--work-day): tipo de dia (padrão: Work)
            - [x] (entries): persiste as entradas informadas
            - regras:
                - [x] obrigatório -t ou -d
                - [x] obrigatório -j ou ao menos 1 argumento em entries
        - [x] @override
            - [x] (-t|--today): define a data da entrada como hoje
            - [x] (-d|--day): define a data da entrada
            - [x] (-j|--justification): registra uma justificativa
            - [x] (-y|--work-day): tipo de dia (padrão: Work)
            - [x] (entries): persiste as entradas informadas
            - regras:
                - [x] não sobrescreve datas ainda não criadas
                - [x] obrigatório -t ou -d
                - [x] obrigatório -j ou ao menos 1 argumento em entries
        - [x] @now: insere uma entrada hoje e agora
    - [ ] @report
        - [x] @day (day): mostra as entradas registradas para o dia
        - [x] @mes (mes): mostra as entradas registradas para o mes
        - [x] @balance: mostra saldo atual acumulado de horas
            - [x] (-t|--tail): trazer ultimos N dias (padrão: 5)
        - [ ] @drake: DIA_INICIO, DIA_FIM: exporta base64 para inclusão em lote no drake usando extensão hhreg-chrome. DATA_FIM é opcional. Se não informada, exporta até data de hoje.
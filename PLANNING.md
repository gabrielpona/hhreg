# hhreg - registering working hours

- @hhreg
    - [ ] !alert
        - regras:
            - [x] antes de cada chamada (exceto init), verificar se banco existe e está inicializado.
            - [ ] antes de cada chamada, verificar se existem dias com quantidade ímpar de entradas.
            - [ ] todos os dias deveriam ter quantidade par de entradas
    - [x] @init
        - [x] (-b|--initial-balance): saldo inicial em horas ou minutos
        - [x] (-w|--workday): jornada em horas ou minutos
        - regras:
            - [x] deve inicializar banco de dados de horas
            - [x] deve persistir o saldo de horas inicial e jornada diária padrão
            - [x] não deve permitir inicializar mais de uma vez.
            - [x] tempo de almoço mínimo fixo em 1h
    - [ ] @reset
        - regras:
            - zera o saldo de horas
    - [x] @config
        - [x] @show: 
        - [x] @change:
            - [x] (-b|--initial-balance): saldo inicial em horas ou minutos
            - [x] (-w|--workday): jornada em horas ou minutos
            - [x] @database: mostra local do banco de dados
    - @entry
        - [x] @new
            - [x] (-t|--today): define a data da entrada como hoje
            - [x] (-d|--day): define a data da entrada
            - [x] (-j|--justification): registra uma justificativa
            - [x] (-y|--work-day): tipo de dia (padrão: Work)
            - [x] (entries): persiste as entradas informadas
            - regras:
                - [x] obrigatório -t ou -d
                - [x] obrigatório -j ou ao menos 1 argumento em entries
        - [ ] @override
            - [ ] (-t|--today): define a data da entrada como hoje
            - [ ] (-d|--day): define a data da entrada
            - [ ] (-j|--justification): registra uma justificativa
            - [ ] (-y|--work-day): tipo de dia (padrão: Work)
            - [ ] (entries): persiste as entradas informadas
            - regras:
                - [ ] obrigatório -t ou -d
                - [ ] obrigatório -j ou ao menos 1 argumento em entries
    - [ ] @report
        - [x] @day: mostra as entradas registradas para o dia VALOR
        - [ ] @mes: mostra as entradas registradas para o mes VALOR
        - [ ] @balance: mostra saldo atual de horas
        - [ ] @drake: DIA_INICIO, DIA_FIM: exporta base64 para inclusão em lote no drake usando extensão hhreg-chrome. DATA_FIM é opcional. Se não informada, exporta até data de hoje.